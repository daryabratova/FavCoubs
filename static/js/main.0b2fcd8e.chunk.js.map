{"version":3,"sources":["app/data/coubIds.js","app/helpers/classname.js","app/helpers/getVideoSize.js","app/containers/Coub/Coub.jsx","app/containers/App/App.jsx","app/entry.js"],"names":["coubIds","cn","withNaming","e","m","getVideoSize","screenWidth","window","innerWidth","firstCoubId","coubClassName","Coub","useState","currentCoubId","playedCoubIds","playerState","setPlayerState","size","setSize","useEffect","addEventListener","width","height","className","title","src","allowfullscreen","frameborder","allow","onClick","unplayedCoubIds","filter","coubId","includes","length","randomCoubId","Math","floor","random","async","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAAaA,EAAU,CACrB,SACA,SACA,SACA,SACA,QACA,SACA,SACA,SACA,QACA,SACA,SACA,U,OCVWC,EAAKC,qBAAW,CAAEC,EAAG,KAAMC,EAAG,OCF9BC,EAAe,WAC1B,IAAMC,EAAcC,OAAOC,WAE3B,OAAIF,EAAc,IACT,CAACA,EAAaA,GAGnBA,EAAc,IACT,CAAC,IAAK,KAGR,CAAC,IAAK,MCFRG,G,kBAAeT,E,OAEhBU,EAAgBT,EAAG,QAEZU,EAAO,WAAO,IAAD,EACcC,mBAAS,CAC7CC,cAAeJ,EACfK,cAAe,CAACL,KAHM,mBACjBM,EADiB,KACJC,EADI,OAMAJ,mBAASP,KANT,mBAMjBY,EANiB,KAMXC,EANW,KAQxBC,qBAAU,WAKRZ,OAAOa,iBAAiB,UAJL,WACjBF,EAAQb,QAGoC,KAC7C,IAdqB,IAgBhBQ,EAAkBE,EAAlBF,cAhBgB,cAiBAI,EAjBA,GAiBjBI,EAjBiB,KAiBVC,EAjBU,KA4CxB,OACE,yBAAKC,UAAWb,EAAc,WAC5B,wBAAIa,UAAWb,EAAc,UAA7B,6BACA,yBAAKa,UAAWb,EAAc,UAC5B,4BACEc,MAAM,QACNC,IAAG,2BAAsBZ,EAAtB,oEACHQ,MAAOA,EACPC,OAAQA,EACRI,iBAAe,EACfC,YAAY,IACZC,MAAM,cAGV,yBAAKL,UAAWb,EAAc,uBAC5B,4BAAQa,UAAWb,EAAc,eAAgBmB,QAxCtC,WACfb,GAAe,SAACD,GAAiB,IACvBD,EAAkBC,EAAlBD,cAEFgB,EAAkB9B,EAAQ+B,QAC9B,SAACC,GAAD,OAAalB,EAAcmB,SAASD,MAGtC,GAA+B,IAA3BF,EAAgBI,OAClB,MAAO,CACLrB,cAAeJ,EACfK,cAAe,CAACL,IAIpB,IAAM0B,EACJL,EAAgBM,KAAKC,MAAMD,KAAKE,SAAWR,EAAgBI,SAE7D,MAAO,CACLrB,cAAesB,EACfrB,cAAc,GAAD,mBAAMA,GAAN,CAAqBqB,UAoBlC,kBAIF,4BAAQI,OAAK,EAACd,IAAI,uCCtEXe,G,MAAM,WACjB,OAAO,kBAAC,EAAD,QCHTC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.0b2fcd8e.chunk.js","sourcesContent":["export const coubIds = [\n  \"28xy7m\",\n  \"28ygku\",\n  \"29ipbe\",\n  \"29lc06\",\n  \"5irf4\",\n  \"2ichu6\",\n  \"2aej9a\",\n  \"2fxpgq\",\n  \"8ckuw\",\n  \"2d4hcq\",\n  \"2a6d79\",\n  \"27onxc\",\n];\n","import { withNaming } from \"@bem-react/classname\";\n\nexport const cn = withNaming({ e: \"__\", m: \"--\" });\n","export const getVideoSize = () => {\n  const screenWidth = window.innerWidth;\n\n  if (screenWidth < 550) {\n    return [screenWidth, screenWidth];\n  }\n\n  if (screenWidth < 996) {\n    return [500, 600];\n  }\n\n  return [800, 600];\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport { coubIds } from \"../../data/coubIds\";\n\nimport { cn } from \"../../helpers/classname\";\nimport { getVideoSize } from \"../../helpers/getVideoSize\";\n\nimport \"./Coub.scss\";\n\nconst [firstCoubId] = coubIds;\n\nconst coubClassName = cn(\"coub\");\n\nexport const Coub = () => {\n  const [playerState, setPlayerState] = useState({\n    currentCoubId: firstCoubId,\n    playedCoubIds: [firstCoubId],\n  });\n\n  const [size, setSize] = useState(getVideoSize());\n\n  useEffect(() => {\n    const changeSize = () => {\n      setSize(getVideoSize());\n    };\n\n    window.addEventListener(\"resize\", changeSize, false);\n  }, []);\n\n  const { currentCoubId } = playerState;\n  const [width, height] = size;\n\n  const nextCoub = () => {\n    setPlayerState((playerState) => {\n      const { playedCoubIds } = playerState;\n\n      const unplayedCoubIds = coubIds.filter(\n        (coubId) => !playedCoubIds.includes(coubId)\n      );\n\n      if (unplayedCoubIds.length === 0) {\n        return {\n          currentCoubId: firstCoubId,\n          playedCoubIds: [firstCoubId],\n        };\n      }\n\n      const randomCoubId =\n        unplayedCoubIds[Math.floor(Math.random() * unplayedCoubIds.length)];\n\n      return {\n        currentCoubId: randomCoubId,\n        playedCoubIds: [...playedCoubIds, randomCoubId],\n      };\n    });\n  };\n\n  return (\n    <div className={coubClassName(\"layout\")}>\n      <h1 className={coubClassName(\"title\")}>Enjoy my favourite coubs!</h1>\n      <div className={coubClassName(\"video\")}>\n        <iframe\n          title=\"video\"\n          src={`//coub.com/embed/${currentCoubId}?muted=false&autostart=true&originalSize=false&startWithHD=false`}\n          width={width}\n          height={height}\n          allowfullscreen\n          frameborder=\"0\"\n          allow=\"autoplay\"\n        ></iframe>\n      </div>\n      <div className={coubClassName(\"next-button-layout\")}>\n        <button className={coubClassName(\"next-button\")} onClick={nextCoub}>\n          Show next one\n        </button>\n      </div>\n      <script async src=\"//c-cdn.coub.com/embed-runner.js\"></script>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { Coub } from \"../Coub\";\n\nimport \"./App.scss\";\n\nexport const App = () => {\n  return <Coub />;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./containers/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}